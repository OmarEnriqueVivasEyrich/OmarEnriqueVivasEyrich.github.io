<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gestión de Inmuebles</title>
    <style>
        /* Estilos aquí (mantenemos los estilos que ya tenías) */
    </style>
</head>
<body>

    <div class="container">
        <h1>Sistema de Gestión de Inmuebles</h1>

        <!-- Formulario para Inmueble -->
        <h2>Datos Inmueble:</h2>
        <form id="formInmueble">
            <label for="precio_inmueble">Precio del Inmueble:</label>
            <input type="number" id="precio_inmueble" required>
            <label for="mensualidad_inmueble">Mensualidad del Inmueble:</label>
            <input type="number" id="mensualidad_inmueble" required>
            <label for="ubicacion_inmueble">Ubicación del Inmueble:</label>
            <input type="text" id="ubicacion_inmueble" required>
            <button type="submit">Guardar Inmueble</button>
        </form>

        <!-- Formulario para Inversor -->
        <h2>Datos Inversor:</h2>
        <form id="formInversor">
            <label for="nombre_inversor">Nombre del Inversor:</label>
            <input type="text" id="nombre_inversor" required>
            <label for="rango_presupuesto_inversor">Rango de Presupuesto (0 - 50000.00):</label>
            <input type="text" id="rango_presupuesto_inversor" required>
            <label for="ubicaciones_interes">Ubicaciones de Interés:</label>
            <input type="text" id="ubicaciones_interes" required>
            <button type="submit">Guardar Inversor</button>
        </form>

        <!-- Formulario para Arrendatario -->
        <h2>Datos Arrendatario:</h2>
        <form id="formArrendatario">
            <label for="nombre_arrendatario">Nombre del Arrendatario:</label>
            <input type="text" id="nombre_arrendatario" required>
            <label for="rango_presupuesto_arrendatario">Rango de Presupuesto (0 - 500.00):</label>
            <input type="text" id="rango_presupuesto_arrendatario" required>
            <label for="ubicacion_interes">Ubicación de Interés:</label>
            <input type="text" id="ubicacion_interes" required>
            <button type="submit">Guardar Arrendatario</button>
        </form>

        <!-- Formulario para Amigo de Arrendatario -->
        <h2>Amigos de Arrendatarios</h2>
        <form id="formAmigoArrendatario">
            <label for="arrendatario">Arrendatario:</label>
            <input type="text" id="arrendatario" required>
            <label for="amigo_arrendatario">Nombre del Amigo del Arrendatario:</label>
            <input type="text" id="amigo_arrendatario" required>
            <button type="submit">Guardar Amigo</button>
        </form>

        <!-- Mostrar Matches -->
        <div class="matches">
            <h2>Coincidencias:</h2>
            <div id="matches"></div>
        </div>
    </div>

    <script>
        const scriptUrl = "https://script.google.com/macros/s/AKfycbzmxTBrY-iB3s5UCK8N7AOwEKovGKB4-NspFHvYHXWRbAmcMiJX6MMQB8wBLSvqxfI7/exec";

        async function submitForm(data) {
            try {
                const response = await fetch(scriptUrl, {
                    method: "POST",
                    body: data
                });
                const text = await response.text();
                alert(text); // Muestra el mensaje de éxito o error
            } catch (error) {
                alert("Error al enviar los datos: " + error.message);
            }
        }

        document.getElementById("formInmueble").addEventListener("submit", function(event) {
            event.preventDefault();
            const data = new FormData();
            data.append("formType", "inmueble");
            data.append("precio_inmueble", document.getElementById("precio_inmueble").value);
            data.append("mensualidad_inmueble", document.getElementById("mensualidad_inmueble").value);
            data.append("ubicacion_inmueble", document.getElementById("ubicacion_inmueble").value);
            submitForm(data);
        });

        document.getElementById("formInversor").addEventListener("submit", function(event) {
            event.preventDefault();
            const data = new FormData();
            data.append("formType", "inversor");
            data.append("nombre_inversor", document.getElementById("nombre_inversor").value);
            data.append("rango_presupuesto_inversor", document.getElementById("rango_presupuesto_inversor").value);
            data.append("ubicaciones_interes", document.getElementById("ubicaciones_interes").value);
            submitForm(data);
        });

        document.getElementById("formArrendatario").addEventListener("submit", function(event) {
            event.preventDefault();
            const data = new FormData();
            data.append("formType", "arrendatario");
            data.append("nombre_arrendatario", document.getElementById("nombre_arrendatario").value);
            data.append("rango_presupuesto_arrendatario", document.getElementById("rango_presupuesto_arrendatario").value);
            data.append("ubicacion_interes", document.getElementById("ubicacion_interes").value);
            submitForm(data);
        });

        document.getElementById("formAmigoArrendatario").addEventListener("submit", function(event) {
            event.preventDefault();
            const data = new FormData();
            data.append("formType", "amigo");
            data.append("arrendatario", document.getElementById("arrendatario").value);
            data.append("amigo_arrendatario", document.getElementById("amigo_arrendatario").value);
            submitForm(data);
        });

        function mostrarMatches() {
            // Lógica para mostrar coincidencias (como ya la tienes)
        }

        document.querySelectorAll("form").forEach(form => {
            form.addEventListener("submit", function() {
                mostrarMatches();
            });
        });
    </script>

</body>
</html>
